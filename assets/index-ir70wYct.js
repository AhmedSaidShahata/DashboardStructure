import{r as v,u as V,j as D,k as N,l as T,m as E,n as L,p as j,b as c,e as m,o as y,g as F,w as i,d as r,i as C,a as I,h as R,t as q,c as A}from"./index-CKGYTHxT.js";const M=()=>{var S,k;const o="topics",e=v({name:"",time:"",date:null,file:[]}),h=v([1,2,3]),n=v(!0),u=v(!1),s=v(""),{post:d,loading:w,get:p}=V(),_=D();let t=N();u.value=!!((S=t==null?void 0:t.params)!=null&&S.id),s.value=(k=t==null?void 0:t.params)==null?void 0:k.id;const f=()=>{const{localeValue:l}=j(),a=new FormData;return a.append("name",e.value.name),a.append("date",e.value.date),a.append("time",e.value.time),a.append("file",e.value.file),u.value&&(a.append("_method","put"),a.append("locale",l.value)),a},x=async()=>{var B;const l=await p(`/${o}/${s.value}`),a=(B=l==null?void 0:l.data)==null?void 0:B.topic;e.value=a||{}},$=async()=>{await d(`/${o}`,f())&&_.push(`/${o}`)},b=async()=>{s.value&&await d(`/${o}/${s.value}`,f())&&_.push(`/${o}`)},g=()=>{e.value={name:"",select:""},n.value=!1,L(()=>{n.value=!0})};return T(()=>{u.value&&x()}),E(()=>{g()}),{post:d,get:p,loading:w,router:_,id:s,handleCreate:$,submit:b,renderForm:n,form:e,isEdit:u,items:h,handleShow:x,formData:f,resetForm:g,url:o}},U={class:"d-flex justify-end mt-4"},z={__name:"index",setup(o){const{form:e,submit:h,loading:n,renderForm:u,handleShow:s,isEdit:d}=M();return(w,p)=>{const _=c("LocaleSelector"),t=c("v-col"),f=c("InputText"),x=c("v-row"),$=c("Button"),b=c("Form");return m(u)?(y(),F(b,{key:0,onSubmit:m(h),class:"mt-4"},{default:i(()=>[r(x,null,{default:i(()=>[m(d)?(y(),F(t,{key:0,cols:"12",md:"12"},{default:i(()=>[r(_,{name:"locale",onChanged:p[0]||(p[0]=g=>m(s)())})]),_:1})):C("",!0),r(t,{cols:"12",md:"12"},{default:i(()=>[r(f,{validation:"required",form:m(e),name:"name",label:w.$t("name")},null,8,["form","label"])]),_:1})]),_:1}),I("div",U,[r($,{class:"font-weight-bold",type:"submit",loading:m(n)},{default:i(()=>[R(q(w.$t("example.save")),1)]),_:1},8,["loading"])])]),_:1},8,["onSubmit"])):C("",!0)}}},G={class:"mt-7"},J={__name:"index",setup(o){return(e,h)=>{const n=c("v-card");return y(),A("section",G,[r(n,{elevation:"0","min-width":"100%",class:"rounded-xl px-16 py-16 mt-2"},{default:i(()=>[r(z)]),_:1})])}}};export{J as default};
